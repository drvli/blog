<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        js基本类型再学习 - drvli | drvli&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> sometimes code,sometimes design </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar radius">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>drvli</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>TAGS</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>ARCHIVES</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>ABOUT</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>SEARCH</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#基础数据类型"><span class="toc-text">基础数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#概念"><span class="toc-text">概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题与解答"><span class="toc-text">问题与解答</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#深浅拷贝"><span class="toc-text">深浅拷贝</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类型判断"><span class="toc-text">类型判断</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#typeof"><span class="toc-text">typeof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#instanceof"><span class="toc-text">instanceof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#几种好的判断类型的方法"><span class="toc-text">几种好的判断类型的方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类型转换"><span class="toc-text">类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#valueOf和toString"><span class="toc-text">valueOf和toString</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#内部类型转换的四个方法"><span class="toc-text">内部类型转换的四个方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#隐式类型数据转换"><span class="toc-text">隐式类型数据转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#if时"><span class="toc-text">if时</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#除过加法以外的计算"><span class="toc-text">除过加法以外的计算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#加法-有字符串拼接的含义"><span class="toc-text">加法(有字符串拼接的含义)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#比较运算符"><span class="toc-text">比较运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#双等"><span class="toc-text">双等</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#显示类型转换"><span class="toc-text">显示类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#parseInt-和parseFloat"><span class="toc-text">parseInt()和parseFloat()</span></a></li></ol></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> sometimes code,sometimes design </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        js基本类型再学习
    </div>

    <div class="post-meta">
        <span class="attr">Post：<span>2019-11-18 07:23:08</span></span>
        
        </span>
        <span class="attr">Visit：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h2 id="基础数据类型"><a href="#基础数据类型" class="headerlink" title="基础数据类型"></a>基础数据类型</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><ul>
<li>类型分类与存储方式：<ul>
<li>基础类型(6)：number，string，null,undefined,boolean,symbol(符号，es6 新增)</li>
<li>引用类型(1):object</li>
<li>在读取数据的时候，基本类型直接被读取，引用类型被读取的是其存储在内存栈中的地址，这个地址指向真正存储的位置。</li>
</ul>
</li>
</ul>
<h3 id="问题与解答"><a href="#问题与解答" class="headerlink" title="问题与解答"></a>问题与解答</h3><ol>
<li>undefind,not defined,null的区别<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var <span class="keyword">a</span> ; <span class="keyword">a</span><span class="comment"> //undefind</span></span><br><span class="line">var <span class="keyword">a</span> = <span class="literal">null</span> ; <span class="keyword">a</span><span class="comment"> //null</span></span><br><span class="line"><span class="keyword">a</span><span class="comment"> //not defined</span></span><br></pre></td></tr></table></figure></li>
<li>字面量，String()，new String()的区别<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="markdown">/<span class="strong">*** 字面量 **</span>*/</span></span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">''</span>  <span class="comment">//返回值为基本类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="markdown">/<span class="strong">*** String() **</span>*/</span></span></span><br><span class="line"><span class="built_in">String</span>(<span class="number">1</span>)    <span class="comment">//字符串的构造函数,可以用来转换字符串</span></span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="markdown">/<span class="strong">*** new Sring() **</span>*/</span></span></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">String</span>(); <span class="comment">//得到的a是个对象</span></span><br></pre></td></tr></table></figure></li>
<li>基本类型为什么可以调用属性和方法</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">eg:</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">111</span>;   </span><br><span class="line"><span class="comment">//a.toString() 过程大致如下：</span></span><br><span class="line"><span class="keyword">var</span> a1 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">""</span>);</span><br><span class="line"><span class="keyword">var</span> a = a1.substring(<span class="number">0</span>);</span><br><span class="line">a1 = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a);  <span class="comment">// '111'</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>由于基本类型没有.length,.toString()这样的属性和方法，需要通过封装对象才能访问，所以，js会自动为基本类型包装一个封装对象。（ps:null与undefined没有封装对象）</p>
</blockquote>
<h2 id="深浅拷贝"><a href="#深浅拷贝" class="headerlink" title="深浅拷贝"></a>深浅拷贝</h2><ul>
<li>浅拷贝：基本类型的拷贝 </li>
<li>一层拷贝：</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常用的几种方法</span></span><br><span class="line"> <span class="keyword">var</span> a = <span class="built_in">Object</span>.assgin(&#123;&#125;,obj);</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">var</span> a = &#123;...obj,c:<span class="number">1</span>&#125;;</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">var</span> a = arr.concat(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>深拷贝：</li>
</ul>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.序列化</span></span><br><span class="line">JSON.parse(JSON.stringfy());</span><br><span class="line"> <span class="comment">// JSON.parse(a,[reiver]) 类似深层map  </span></span><br><span class="line"> <span class="comment">// 缺点：</span></span><br><span class="line"> <span class="comment">// 函数，undefined，Symbol序列化后会丢失，不能循环引用</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//2.递归遍历</span></span><br><span class="line">function deepClone(source)&#123;</span><br><span class="line">    <span class="keyword">const</span> targetObj = source.construtor === <span class="keyword">Array</span> ? [] : &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span>(let <span class="built_in">key</span> in source)&#123;</span><br><span class="line">        <span class="keyword">if</span>(source.hasOwnProperty(<span class="built_in">key</span>))&#123;</span><br><span class="line">            <span class="keyword">if</span>(source[<span class="built_in">key</span>] &amp;&amp; typeof source[<span class="built_in">key</span>] === <span class="string">'object'</span> )&#123;</span><br><span class="line">            targetObj[<span class="built_in">key</span>] =  source.construtor === <span class="keyword">Array</span> ? [] : &#123;&#125;;</span><br><span class="line">            targetObj[<span class="built_in">key</span>] = deepClone(source[<span class="built_in">key</span>]);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                 targetObj[<span class="built_in">key</span>] = source[<span class="built_in">key</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> targetObj;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">// 3.MessageChannel方法</span></span><br></pre></td></tr></table></figure>

<h2 id="类型判断"><a href="#类型判断" class="headerlink" title="类型判断"></a>类型判断</h2><h3 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">undefined</span>     <span class="comment">// undefined  </span></span><br><span class="line"><span class="literal">null</span>           <span class="comment">// object     判断错误</span></span><br><span class="line"><span class="string">'123'</span>          <span class="comment">// string     </span></span><br><span class="line"><span class="number">123</span>            <span class="comment">// number</span></span><br><span class="line"><span class="literal">true</span>           <span class="comment">//boolean</span></span><br><span class="line"><span class="literal">NaN</span>            <span class="comment">// number</span></span><br><span class="line"><span class="keyword">typeof</span>(<span class="built_in">Symbol</span>(<span class="number">1</span>)) <span class="comment">//symbol</span></span><br><span class="line"><span class="keyword">var</span>  fn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">fn            <span class="comment">// funciton  </span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;,[];</span><br><span class="line">obj           <span class="comment">// object     判断不准确</span></span><br></pre></td></tr></table></figure>
<h3 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Student = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> stu = <span class="keyword">new</span> Student()</span><br><span class="line">stu <span class="keyword">instanceof</span> Student   <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">'hello'</span></span><br><span class="line">str <span class="keyword">instanceof</span> <span class="built_in">String</span> <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str1 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello'</span>)</span><br><span class="line">str1 <span class="keyword">instanceof</span> <span class="built_in">String</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="几种好的判断类型的方法"><a href="#几种好的判断类型的方法" class="headerlink" title="几种好的判断类型的方法"></a>几种好的判断类型的方法</h3><ul>
<li>typeOf + instanceof</li>
</ul>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">基本类型可以使用<span class="keyword">typeof</span>，引用类型使用<span class="keyword">instanceof</span></span><br></pre></td></tr></table></figure>
<ul>
<li>一个数的constructor是否等于其起构造函数的方法</li>
</ul>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ps:undefined和null没有属性和方法</span></span><br><span class="line">[]<span class="function">.<span class="keyword">constructor</span> === <span class="title">Array</span> <span class="comment">//true</span></span></span><br><span class="line"><span class="function"><span class="params">(<span class="comment">&#123;&#125;</span>)</span>.<span class="title">constructor</span> === <span class="title">Object</span> <span class="comment">//true</span></span></span><br><span class="line"><span class="function">   <span class="title">new</span> <span class="title">Date</span><span class="params">()</span>.<span class="title">constructor</span> === <span class="title">Date</span> <span class="comment">//true</span></span></span><br><span class="line"><span class="function">   /\<span class="title">d</span>/<span class="title">g</span>.<span class="title">constructor</span> === <span class="title">RegExp</span><span class="params">()</span>  <span class="comment">//true</span></span></span><br><span class="line"><span class="function">'1'.<span class="title">constructor</span> === <span class="title">String</span> <span class="comment">//true</span></span></span><br><span class="line"><span class="function">1..<span class="title">constructor</span> === <span class="title">Number</span> <span class="comment">//true</span></span></span><br><span class="line"><span class="function"><span class="title">Symbol</span><span class="params">(1)</span>.<span class="title">constructor</span> === <span class="title">Symbol</span> <span class="comment">//false 不准确</span></span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>undefined和null没有属性和方法，且Symbol(1).constructor = undefined</p>
</blockquote>
<ul>
<li>Object.prototype.toString.call()</li>
</ul>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>prototype.toString.call(<span class="number">2</span>) <span class="comment">// [object Number]</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>prototype.toString.call('<span class="number">222</span>') <span class="comment">// [object String]</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>prototype.toString.call(<span class="literal">true</span>) <span class="comment">// [object Boolean]</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>prototype.toString.call(<span class="constructor">Symbol('<span class="params">a</span>')</span>) <span class="comment">// [object Symbol]</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>prototype.toString.call(<span class="keyword">new</span> <span class="constructor">Date()</span>) <span class="comment">// [object Date]</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>prototype.toString.call(<span class="keyword">new</span> <span class="constructor">RegExp()</span>) <span class="comment">// [object RegExp]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//=====</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>prototype.toString.call(<span class="keyword">new</span> <span class="constructor">Map()</span>) <span class="comment">//"[object Map]"</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>prototype.toString.call(<span class="keyword">function</span>* <span class="literal">()</span>&#123;&#125;)</span><br><span class="line"><span class="comment">//"[object GeneratorFunction]"</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>prototype.toString.call(<span class="module-access"><span class="module"><span class="identifier">Promise</span>.</span></span>resolve<span class="literal">()</span>)</span><br><span class="line"><span class="comment">//"[object Promise]"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//===</span></span><br><span class="line"><span class="keyword">class</span> Vaildator&#123;&#125;;</span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>prototype.toString.call(<span class="keyword">new</span> <span class="constructor">Vaildator()</span>)</span><br><span class="line"><span class="string">"[object Object]"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> Vaildator&#123;</span><br><span class="line">    get<span class="literal">[S<span class="identifier">ybmol</span>.<span class="identifier">toStringTag</span>]</span><span class="literal">()</span>&#123;</span><br><span class="line">        return 'Vaildator'</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">Object</span>.</span></span>prototype.toString.call(<span class="keyword">new</span> <span class="constructor">Vaildator()</span>)</span><br><span class="line"><span class="string">"[object Vaildator]"</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>undefined和null没有属性和方法;</p>
</blockquote>
<blockquote>
<p>除了上述提到的Object和Array两种情况，其他类型都不支持非自身实例通过this绑定调用该Object子类原型对象上的toString()方法，这说明它们在重写toString()方法时，明确限定了调用该方法的对象类型，非自身对象实例不可调用。所以，一般我们只使用Object.prototype.toString.call/apply()方法。</p>
</blockquote>
<blockquote>
<p>toString()能识别map等是因为引擎为它们设置好了toStringTag标签，自建的类是不能识别的</p>
</blockquote>
<h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><h3 id="valueOf和toString"><a href="#valueOf和toString" class="headerlink" title="valueOf和toString"></a>valueOf和toString</h3><ul>
<li>valueOf() 返回这个对象逻辑上对应的原始类型的值。比如说，String包装对象的valueOf()，应该返回这个对象所包装的字符串。</li>
<li>toString() 返回这个对象的字符串。用一个字符串来描述这个对象的内容。</li>
</ul>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>例子</th>
<th>data.valueOf()的结果</th>
<th>data.toString()的结果</th>
</tr>
</thead>
<tbody><tr>
<td>Number</td>
<td>1</td>
<td>1</td>
<td>‘1’</td>
</tr>
<tr>
<td>String</td>
<td>‘1’</td>
<td>‘1’</td>
<td>‘1’</td>
</tr>
<tr>
<td>Boolean</td>
<td>false</td>
<td>false</td>
<td>‘false’</td>
</tr>
<tr>
<td>Symbol</td>
<td>Symbol(‘a’)</td>
<td>Symbol(a)</td>
<td>‘Symbol(a)’</td>
</tr>
<tr>
<td>Array</td>
<td>[1,2]</td>
<td>[1,2]</td>
<td>“1,2”</td>
</tr>
<tr>
<td>Function</td>
<td>function(){}</td>
<td>ƒ (){}</td>
<td>“function(){}”</td>
</tr>
<tr>
<td>Object</td>
<td>var obj = {a:1}</td>
<td>{a: 1}</td>
<td>“[object Object]”</td>
</tr>
<tr>
<td>Date</td>
<td>new Date()</td>
<td>1574030506381</td>
<td>“Mon Nov 18 2019 06:42:11 GMT+0800 (中国标准时间)”</td>
</tr>
</tbody></table>
<h3 id="内部类型转换的四个方法"><a href="#内部类型转换的四个方法" class="headerlink" title="内部类型转换的四个方法"></a>内部类型转换的四个方法</h3><blockquote>
<p>这4个方法实际上是ECMAScript定义的4个抽象的操作，它们在js内部使用，进行类型转换</p>
</blockquote>
<blockquote>
<p>这里的ToString()和上面的toString()，一个是js引擎内部使用的函数，另一个是定义在对象上的函数。</p>
</blockquote>
<ol>
<li>ToPrimitive ( input [ , PreferredType ] )<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">将input转化成一个原始类型的值。PreferredType参数要么不传入，要么是<span class="built_in">Number</span>或<span class="built_in">String</span>。如果PreferredType参数是<span class="built_in">Number</span>，ToPrimitive这样执行：</span><br><span class="line">    <span class="number">1.</span>如果input本身就是原始类型，直接返回input。</span><br><span class="line">    <span class="number">2.</span>调用input.valueOf()，如果结果是原始类型，则返回这个结果。</span><br><span class="line">    <span class="number">3.</span>调用input.toString()，如果结果是原始类型，则返回这个结果。</span><br><span class="line">    <span class="number">4.</span>抛出<span class="built_in">TypeError</span>异常。</span><br><span class="line">以下是PreferredType不为<span class="built_in">Number</span>时的执行顺序。</span><br><span class="line"> <span class="number">1.</span>如果PreferredType参数是<span class="built_in">String</span>，则交换上面这个过程的第<span class="number">2</span>和第<span class="number">3</span>步的顺序，其他执行过程相同。</span><br><span class="line"> <span class="number">2.</span> 如果PreferredType参数没有传入</span><br><span class="line">    a.如果input是内置的<span class="built_in">Date</span>类型，PreferredType视为<span class="built_in">String</span></span><br><span class="line">    b. 否则PreferredType 视为 <span class="built_in">Number</span> – 先调用valueOf 再调用toString</span><br></pre></td></tr></table></figure></li>
<li>ToBoolean ( argument )</li>
</ol>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Undefined	<span class="keyword">Return</span> <span class="keyword">false</span></span><br><span class="line"><span class="keyword">Null</span>	<span class="keyword">Return</span> <span class="keyword">false</span></span><br><span class="line"><span class="type">Boolean</span>	<span class="keyword">Return</span> argument</span><br><span class="line">Number	仅当argument为 +<span class="number">0</span>, <span class="number">-0</span>, <span class="keyword">or</span> <span class="keyword">NaN</span>时， <span class="keyword">return</span> <span class="keyword">false</span>; 否则一律 <span class="keyword">return</span> <span class="keyword">true</span></span><br><span class="line">String	仅当argument是空字符串（长度为<span class="number">0</span>）时， <span class="keyword">return</span> <span class="keyword">false</span>; 否则一律 <span class="keyword">return</span> <span class="keyword">true</span></span><br><span class="line">Symbol	<span class="keyword">Return</span> <span class="keyword">true</span></span><br><span class="line"><span class="keyword">Object</span>	<span class="keyword">Return</span> <span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ToNumber ( argument )</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Undefined	Return <span class="literal">NaN</span></span><br><span class="line">Null	Return +<span class="number">0</span></span><br><span class="line"><span class="built_in">Boolean</span>	如果 argument 为 <span class="literal">true</span>, <span class="keyword">return</span> <span class="number">1.</span> 如果 argument 为 <span class="literal">false</span>, <span class="keyword">return</span> +<span class="number">0</span></span><br><span class="line"><span class="built_in">Number</span>	直接返回argument</span><br><span class="line"><span class="built_in">String</span>	将字符串中的内容转化为数字（比如”<span class="number">23</span>”-&gt;<span class="number">23</span>），如果转化失败则返回<span class="literal">NaN</span>（比如”<span class="number">23</span>a”-&gt;<span class="literal">NaN</span>）</span><br><span class="line"><span class="built_in">Symbol</span>	抛出 <span class="built_in">TypeError</span> 异常</span><br><span class="line"><span class="built_in">Object</span>	先primValue = ToPrimitive(argument, <span class="built_in">Number</span>)，再对primValue 使用 ToNumber(primValue)</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>ToString ( argument )</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Undefined	Return “<span class="literal">undefined</span>”</span><br><span class="line">Null	Return “<span class="literal">null</span>”</span><br><span class="line"><span class="built_in">Boolean</span>	如果 argument 为 <span class="literal">true</span>, <span class="keyword">return</span> “<span class="literal">true</span>”.如果 argument 为 <span class="literal">false</span>, <span class="keyword">return</span> “<span class="literal">false</span>”</span><br><span class="line"><span class="built_in">Number</span>	用字符串来表示这个数字</span><br><span class="line"><span class="built_in">String</span>	直接返回 argument</span><br><span class="line"><span class="built_in">Symbol</span>	抛出 <span class="built_in">TypeError</span> 异常</span><br><span class="line"><span class="built_in">Object</span>	先primValue = ToPrimitive(argument, hint <span class="built_in">String</span>)，再对primValue使用ToString(primValue)</span><br></pre></td></tr></table></figure>
<h3 id="隐式类型数据转换"><a href="#隐式类型数据转换" class="headerlink" title="隐式类型数据转换"></a>隐式类型数据转换</h3><h4 id="if时"><a href="#if时" class="headerlink" title="if时"></a>if时</h4><blockquote>
<p>js期望得到boolean的值，使用ToBoolean ( argument )</p>
</blockquote>
<h4 id="除过加法以外的计算"><a href="#除过加法以外的计算" class="headerlink" title="除过加法以外的计算"></a>除过加法以外的计算</h4><blockquote>
<p>js期望得到number类型的值，按照计算的优先级顺序使用ToNumber ( argument )</p>
</blockquote>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>* &#123; valueOf: <span class="keyword">function</span> <span class="title"></span>() &#123; <span class="keyword">return</span> <span class="type">&#123;&#125;</span> &#125;, toString: <span class="keyword">function</span> <span class="title"></span>() &#123; <span class="keyword">return</span> <span class="type">&#123;&#125;</span> &#125; &#125;</span><br><span class="line"></span><br><span class="line">//调用ToNumber ( argument )的过程中，调用了ToPrimitive ( input , Number )，因为在ToPrimitive中valueOf和toString都没有返回原始类型，所以抛出异常</span><br></pre></td></tr></table></figure>

<h4 id="加法-有字符串拼接的含义"><a href="#加法-有字符串拼接的含义" class="headerlink" title="加法(有字符串拼接的含义)"></a>加法(有字符串拼接的含义)</h4><blockquote>
<p>只要’+’两端的任意一个操作数是字符串，那么这个’+’就表示字符串拼接，否则表示算数加，使用ToNumber()</p>
</blockquote>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[]</span>+<span class="selector-attr">[]</span>   <span class="comment">//  ""</span></span><br><span class="line"><span class="comment">// ToPrimitive([])返回空字符串</span></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[]</span> + &#123;&#125;  "<span class="selector-attr">[object Object]</span>"</span><br><span class="line"><span class="comment">// ToPrimitive(&#123;&#125;)返回"[object Object]"</span></span><br><span class="line"></span><br><span class="line">&#123;&#125; + <span class="selector-attr">[]</span>  <span class="comment">//  0, &#123;&#125;表示执行代码块儿</span></span><br></pre></td></tr></table></figure>

<h4 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h4><blockquote>
<p>如果是对象，就通过 toPrimitive 转换对象<br>如果是字符串，就通过 unicode 字符索引来比较</p>
</blockquote>
<h5 id="双等"><a href="#双等" class="headerlink" title="双等"></a>双等</h5><ul>
<li>xy都为Null或undefined,return true; 一方为Null或undefined，return false</li>
<li>x或y为NaN, return false;</li>
<li>x和y为String，Number，Boolean并且类型不一致，都转为Number再进行比较</li>
<li>存在Object，转换为原始值(valueOf())，再比较</li>
</ul>
<h3 id="显示类型转换"><a href="#显示类型转换" class="headerlink" title="显示类型转换"></a>显示类型转换</h3><blockquote>
<p>调用Boolean(value)、Number(value)、String(value)完成的类型转换，叫做显示类型转换<br> 这三个函数用于类型转换的时候，调用的就是js内部的ToBoolean ( argument )、ToNumber ( argument )、ToString ( argument )方法！</p>
</blockquote>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="constructor">String(&#123;<span class="params">a</span>:24&#125;)</span>; <span class="comment">// "[object Object]"</span></span><br><span class="line"><span class="comment">//1.js内部函数ToString</span></span><br><span class="line"><span class="comment">//2.执行ToPrimitive(&#123;a:24&#125;, String)</span></span><br><span class="line"><span class="comment">//3.因为&#123;a:24&#125;不是原始类型，下一步toString() //'[object,Object]' </span></span><br><span class="line"><span class="comment">//4.return </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">	value<span class="constructor">Of()</span> &#123;</span><br><span class="line">		return <span class="number">2</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="keyword">to</span><span class="constructor">String()</span>&#123;</span><br><span class="line">		return <span class="literal">[]</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="constructor">String(<span class="params">obj2</span>)</span>  <span class="comment">// '2'</span></span><br></pre></td></tr></table></figure>
<h4 id="parseInt-和parseFloat"><a href="#parseInt-和parseFloat" class="headerlink" title="parseInt()和parseFloat()"></a>parseInt()和parseFloat()</h4><blockquote>
<p>parseInt只会转换字符串。如果传入的不是字符串会先转换成字符串再进行parse, 调用ToString()方法</p>
</blockquote>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">parseInt</span><span class="params">(<span class="number">1</span>/<span class="number">0</span>, <span class="number">19</span>)</span></span> <span class="comment">// 18  =&gt; 1/0转换成字符串为Infinity 。而有效数字范围是0-9 a-i 所以第一位为I 代表18。n超出19的范围了所以只有18返回</span></span><br><span class="line"><span class="function"><span class="title">parseInt</span><span class="params">(<span class="number">0.0000008</span>)</span></span> <span class="comment">// 8 =&gt; 8e+7  6个0转换成字符串会转换成指数</span></span><br><span class="line"><span class="function"><span class="title">parseInt</span><span class="params">(<span class="number">0.000008</span>)</span></span> <span class="comment">// 0 =&gt; 0.000008</span></span><br></pre></td></tr></table></figure>

        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">donate</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/donate.jpg">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/drvli">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a href="#">It helps SEO</a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud" target="_blank" rel="noopener">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


    <script>
        /**
         *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
         *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
        */
        if( '' || '')
        var disqus_config = function () {
            this.page.url = '';  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = ''; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };

        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = 'https://airclouds-blog.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>



</html>
